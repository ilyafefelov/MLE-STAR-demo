# Ablation Analysis of ML Pipelines Generated via Gemini API / –ê–±–ª—è—Ü—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ ML-–ø–∞–π–ø–ª–∞–π–Ω–∞

> üß† **Master's Thesis / –î–∏–ø–ª–æ–º–Ω–∞ —Ä–æ–±–æ—Ç–∞ –º–∞–≥—ñ—Å—Ç—Ä–∞**  
> **Student / –°—Ç—É–¥–µ–Ω—Ç:** Ilya Fefelov / –§–µ—Ñ–µ–ª–æ–≤ –Ü–ª–ª—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á  
> **Group / –ì—Ä—É–ø–∞:** –Ü–ö-9-24-–ú1–Ü–ü–ó (1.6–¥)-–Ü–¢  
> **Supervisor / –ù–∞—É–∫–æ–≤–∏–π –∫–µ—Ä—ñ–≤–Ω–∏–∫:** PhD Dmytro Chernyshov / –∫.—Ç.–Ω. –î–º–∏—Ç—Ä–æ –ß–µ—Ä–Ω–∏—à–æ–≤  
> **Institution / –ó–∞–∫–ª–∞–¥:** IAPM / –ú–ê–£–ü  
> **Practice Base / –ë–∞–∑–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏:** GO IT EDUCATION LLC / –¢–û–í "–ì–û–£ –ê–ô–¢–Ü –ï–î–¨–Æ–ö–ï–ô–®–ï–ù"

---

## üá¨üáß English Version

### üìñ Project Description

This project investigates the impact of individual Machine Learning pipeline components on model quality through **ablation analysis**.

**Core Idea:**
1.  **Generate** optimal ML pipelines using **Gemini API** (Google Generative AI).
2.  **Execute** the code automatically in a controlled environment.
3.  **Analyze** component contribution by systematically disabling them (Ablation Study).
4.  **Validate** results statistically (N=20 runs, 95% Confidence Intervals).

**Inspiration:**  
Based on the **MLE-STAR** (Machine Learning Engineering with Multiple Agents) approach by Google Research ([arXiv:2506.15692](https://www.arxiv.org/abs/2506.15692)). Unlike the full multi-agent system, this project focuses on the **ablation analysis** of pipelines generated by a single efficient agent.

### ‚úÖ Key Results (Updated Nov 24, 2025)

#### 1. "Over-engineering" Hypothesis Confirmed
Experiments on the **Diabetes** dataset (N=20 runs) confirmed that complex pipelines often degrade performance.
-   **Minimal Configuration** (Model only): **High Stability** (Narrow 95% CI).
-   **Full Pipeline** (with Feature Engineering): Lower or equal performance in **10/10 cases**.
-   **Conclusion:** Gemini tends to generate overly complex solutions (Feature Engineering, Ensembling) that are not always necessary for tabular data.

#### 2. Model Selection: Gemini 2.5 Flash Lite
-   **Winner:** `gemini-2.5-flash-lite`
-   **Speed:** 4.07s (6.6√ó faster than Pro)
-   **Accuracy:** 94.21% (Difference with Pro is statistically insignificant, p=0.68)
-   **Efficiency:** Best Cost-Benefit ratio.

#### 3. Statistical Validity
-   **Robustness:** All final experiments were conducted with **N=20** repetitions.
-   **Stability:** The resulting 95% Confidence Intervals are narrow, indicating high reproducibility of the generated pipelines.

### üöÄ Quick Start

```bash
# 1. Clone repository
git clone https://github.com/ilyafefelov/MLE-STAR-demo.git
cd MLE-STAR-demo

# 2. Install dependencies
pip install -r requirements.txt

# 3. Set API Key
# Windows PowerShell
$env:GEMINI_API_KEY="your_api_key_here"
# Linux/Mac
export GEMINI_API_KEY="your_api_key_here"

# 4. Run Experiment
python scripts/main_experiment.py --datasets diabetes --n-runs 20
```

---

## üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –≤–µ—Ä—Å—ñ—è

### üìñ –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É

–¶–µ–π –ø—Ä–æ—î–∫—Ç –¥–æ—Å–ª—ñ–¥–∂—É—î –≤–ø–ª–∏–≤ –æ–∫—Ä–µ–º–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ ML-–∫–æ–Ω–≤–µ—î—Ä–∞ –Ω–∞ —è–∫—ñ—Å—Ç—å –º–æ–¥–µ–ª–µ–π –º–∞—à–∏–Ω–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è —á–µ—Ä–µ–∑ **–∞–±–ª—è—Ü—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑**.

**–û—Å–Ω–æ–≤–Ω–∞ —ñ–¥–µ—è:**
1.  **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ Gemini API** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó ML-–ø–∞–π–ø–ª–∞–π–Ω—ñ–≤.
2.  **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω—É—î–º–æ** –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π –∫–æ–¥.
3.  **–ü—Ä–æ–≤–æ–¥–∏–º–æ –∞–±–ª—è—Ü—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑**: –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –≤–∏–º–∏–∫–∞—î–º–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (Feature Engineering, Scaling, Tuning).
4.  **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ –æ—Ü—ñ–Ω—é—î–º–æ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ (N=20 –ø—Ä–æ–≥–æ–Ω—ñ–≤, 95% –¥–æ–≤—ñ—Ä—á—ñ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏).

**–ù–∞—Ç—Ö–Ω–µ–Ω–Ω—è:**  
–ü—Ä–æ—î–∫—Ç –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø—ñ–¥—Ö–æ–¥—ñ **MLE-STAR** –≤—ñ–¥ Google Research. –ú–∏ –∞–¥–∞–ø—Ç—É–≤–∞–ª–∏ –π–æ–≥–æ –¥–ª—è —Ñ–æ–∫—É—Å—É–≤–∞–Ω–Ω—è –Ω–∞ **–¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—ñ –Ω–∞–¥–ª–∏—à–∫–æ–≤–æ—Å—Ç—ñ** (over-engineering) –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ–º—É –∫–æ–¥—ñ.

### ‚úÖ –ö–ª—é—á–æ–≤—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ (–û–Ω–æ–≤–ª–µ–Ω–æ 24.11.2025)

#### 1. –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –≥—ñ–ø–æ—Ç–µ–∑–∏ "Over-engineering"
–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –Ω–∞ –¥–∞—Ç–∞—Å–µ—Ç—ñ **Diabetes** (N=20) –ø–æ–∫–∞–∑–∞–ª–∏, —â–æ —Å–∫–ª–∞–¥–Ω—ñ –ø–∞–π–ø–ª–∞–π–Ω–∏ —á–∞—Å—Ç–æ –ø—Ä–∞—Ü—é—é—Ç—å –≥—ñ—Ä—à–µ –∑–∞ –ø—Ä–æ—Å—Ç—ñ.
-   **Minimal Configuration** (–¢—ñ–ª—å–∫–∏ –º–æ–¥–µ–ª—å): –î–µ–º–æ–Ω—Å—Ç—Ä—É—î –≤–∏—Å–æ–∫—É —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —Ç–æ—á–Ω—ñ—Å—Ç—å.
-   **Full Pipeline** (–ó —ñ–Ω–∂–µ–Ω–µ—Ä—ñ—î—é –æ–∑–Ω–∞–∫): –£ **10 –∑ 10 –≤–∏–ø–∞–¥–∫—ñ–≤** –Ω–µ –¥–∞–≤ –ø—Ä–∏—Ä–æ—Å—Ç—É –∞–±–æ –ø–æ–≥—ñ—Ä—à–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
-   **–í–∏—Å–Ω–æ–≤–æ–∫:** LLM —Å—Ö–∏–ª—å–Ω—ñ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞–¥–º—ñ—Ä–Ω–æ —Å–∫–ª–∞–¥–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è, —è–∫—ñ –Ω–µ –∑–∞–≤–∂–¥–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–ª—è —Ç–∞–±–ª–∏—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö.

#### 2. –í–∏–±—ñ—Ä –º–æ–¥–µ–ª—ñ: Gemini 2.5 Flash Lite
-   **–û–±—Ä–∞–Ω–æ:** `gemini-2.5-flash-lite`
-   **–®–≤–∏–¥–∫—ñ—Å—Ç—å:** 4.07—Å (–≤ 6.6√ó —à–≤–∏–¥—à–µ –∑–∞ Pro –≤–µ—Ä—Å—ñ—é).
-   **–¢–æ—á–Ω—ñ—Å—Ç—å:** 94.21% (–†—ñ–∑–Ω–∏—Ü—è –∑ Pro —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–æ –Ω–µ–∑–Ω–∞—á—É—â–∞).

#### 3. –°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∞ –≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å
-   **–ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å:** –§—ñ–Ω–∞–ª—å–Ω—ñ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω—ñ –∑ **N=20** –ø–æ–≤—Ç–æ—Ä–∞–º–∏.
-   **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å:** –û—Ç—Ä–∏–º–∞–Ω—ñ –≤—É–∑—å–∫—ñ –¥–æ–≤—ñ—Ä—á—ñ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏ (Confidence Intervals) —Å–≤—ñ–¥—á–∞—Ç—å –ø—Ä–æ –≤–∏—Å–æ–∫—É –≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω—ñ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

### üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
diploma/
‚îú‚îÄ‚îÄ README.md                            # –¶–µ–π —Ñ–∞–π–ª / This file
‚îú‚îÄ‚îÄ requirements.txt                     # Dependencies
‚îú‚îÄ‚îÄ src/                                 # Source code
‚îÇ   ‚îú‚îÄ‚îÄ mle_star_generated_pipeline.py   # üî• Code generated by Gemini
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ scripts/                             # Execution scripts
‚îÇ   ‚îú‚îÄ‚îÄ main_experiment.py               # üöÄ Main entry point
‚îÇ   ‚îî‚îÄ‚îÄ plot_ci_demonstration.py         # Visualization generation
‚îú‚îÄ‚îÄ reports/                             # Final docs
‚îÇ   ‚îú‚îÄ‚îÄ practice_report.md               # –ó–≤—ñ—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ tezy_final.md                    # –ù–∞—É–∫–æ–≤—ñ —Ç–µ–∑–∏
‚îÇ   ‚îî‚îÄ‚îÄ ci_validity_plot.png             # Visualization artifact
‚îî‚îÄ‚îÄ results_full_experiment/             # Raw data (CSV)
```

### üéì –î–ª—è –¥–∏–ø–ª–æ–º—É

**–¢–µ–∑–∞ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è:**  
–°—É—á–∞—Å–Ω—ñ LLM –≥–µ–Ω–µ—Ä—É—é—Ç—å —Ä–æ–±–æ—á–∏–π, –∞–ª–µ —á–∞—Å—Ç–æ **–Ω–∞–¥–ª–∏—à–∫–æ–≤–∏–π** –∫–æ–¥ –¥–ª—è ML-–∑–∞–¥–∞—á. –ê–±–ª—è—Ü—ñ–π–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –¥–æ–∑–≤–æ–ª—è—î –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–∏—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–π–≤–∏–π Feature Engineering), –ø—ñ–¥–≤–∏—â—É—é—á–∏ –ø—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –º–æ–¥–µ–ª—ñ –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ —è–∫–æ—Å—Ç—ñ.

---

## üìß Contacts / –ö–æ–Ω—Ç–∞–∫—Ç–∏

**Ilya Fefelov / –§–µ—Ñ–µ–ª–æ–≤ –Ü–ª–ª—è**  
**GitHub:** [ilyafefelov/MLE-STAR-demo](https://github.com/ilyafefelov/MLE-STAR-demo)  
**Date:** November 24, 2025
